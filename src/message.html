<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>寵物社群</title>

    <!-- CSS only -->
    <!-- Bootstrap css cdn link -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    
    <link rel="stylesheet" href="./message.css" />
  </head>
  <body>
    
    <!-- navbar begin -->
    <nav class="navbar navbar-dark" style="background-color: #003466; position: fixed;  width: 100%; margin-bottom: 3rem;" >
      <div class="container-fluid">
        <div class="icon-container">
          <button
          class="navbar-toggler"
          data-bs-toggle="dropdown"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          
            <li class="nav-item dropdown">
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="./friends.html">我的配對</a></li>
                <li><a class="dropdown-item" href="./message.html">配對訊息</a></li>
              </ul>
          </li>
        </div>

        <div></div>
        <div class="navbar-items">
          <a class="navbar-brand ms-5 nav-link active" aria-current="page" href="./homepage.html">主頁</a>
          <a class="navbar-brand ms-3" href="./news.html">動態消息</a>

          <a href="./index.html"><img class="icon" src="../images/icon.png"  ></a>
          <a class="navbar-brand ms-8" href="./market.html">專屬推薦</a>
          <a class="navbar-brand ms-8" href="./aboutus.html">About Us</a>
        </div>
        <div class="icon-container">
          <a href="#">
            <img class="icon2" src="../images/notification.png" >
          </a>
          <a href="#">
            <img class="icon2" src="../images/like.png" >
          </a>
          <a href="#" id="profile" data-bs-toggle="modal"
            data-bs-target="#exampleModal">
            <img class="icon2" src="../images/profile.png">
          </a> 
          <li id="profile_box" class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img class="icon2" src="../images/dog.png" >
            </a>
            <ul class="dropdown-menu dropdown-menu-start dropdown-menu-lg-start">
              <li><a class="dropdown-item" href="#">帳號設定</a></li>
              <li><a class="dropdown-item" href="#">個人頁面設定</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#" id="logout">登出</a></li>
            </ul>
          </li>
        </div>
      </div>
    </nav>
    <!-- navbar end -->

    <!-- login dialog begin -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true">

      <div class="modal-dialog">
        <div class="modal-content"> 
          <div class="modal-header">              
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <div class="modal-body">
            <div class="login_icon_container">
              <img class="login_icon" src="../images/login_register/icon1.png"/>
            </div>            
            <div class="login_title">歡迎使用PetPals!</div>
            <div class="container" align="center">
              <div class="row justify-content-center">    
                <input type="text" class="form-control" id="email" placeholder="電子郵件地址或手機號碼">
                <div id="password_block">
                  <div class="input_box">
                    <input type="password" class="form-control" id="password" placeholder="密碼">
                    <i id="checkeye">
                      <a href="#">
                        <img class="eye_icon eye_close" src="../images/login_register/invisible.png"/>
                        <img class="eye_icon eye_open" src="../images/login_register/visible.png"/>
                      </a>
                    </i>
                  </div>
                </div>
                <div id="wrong_account" class="small_word"></div>
                <div id="forget_password" class="small_word"><a href="#forget_password">忘記密碼?</a></div>
                <a href="#">
                  <button class="btn btn-yellow reg_button" id="login_btn">登入</button>
                </a>                
                <hr style="margin-top: 20px;">
                <button class="btn btn-blue reg_button" data-bs-target="#exampleModal2" data-bs-toggle="modal">建立新帳號</button>
                <div class="small_word" id="supplyment">為您的寵物建立屬於自己的社交帳號!</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- login dialog end -->

    <!-- register dialog begin -->
    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn back_btn" data-bs-target="#exampleModal" data-bs-toggle="modal"><img src="../images/login_register/back.png"></button>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body">
            <div class="login_icon_container">
              <img class="reg_icon" src="../images/login_register/icon1.png"/>
            </div>
            <div class="container" align="center">
              <div class= "row justify-content-center">    
                <div class="reg_title">
                  註冊
                </div>
                <div class="reg_content">
                  Petpals為您的寵物制定最完美的散步規畫，
                  <br>
                  並找到最適合牠的寵物玩伴。
                </div>
                
                <div class="container-fluid" style="display: flex;">
                  <form class="d-flex width_half" role="search">
                    <input class="form-control me-2" type="search" placeholder="姓氏" aria-label="Search">
                  </form>
                  <form class="d-flex width_half" role="search">
                    <input class="form-control me-2" type="search" placeholder="名字" aria-label="Search">
                  </form>
                </div>
              
                <div class="container-fluid">
                  <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="電子郵件地址或手機號碼" aria-label="Search">
                  </form>
                  
                </div>
            
                <div class="container-fluid">
                  <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="設定密碼" aria-label="Search">
                  </form>
                </div>

                <div class="container-fluid">
                  <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="再次輸入密碼" aria-label="Search">
                  </form>
                </div>
                
               <button type="button" class="btn btn-blue reg_button" data-bs-target="#exampleModal3" data-bs-toggle="modal">繼續</button>
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn back_btn" data-bs-target="#exampleModal2" data-bs-toggle="modal"><img src="../images/login_register/back.png"></button>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body">
            <div class="container" align="center">
              <div class= "row justify-content-center">    
                <div class="reg_title" style="font-size: 1.5rem;">
                  請問您的身分為?
                </div>
                <div class="login_icon_container">
                  <img class="login_icon" src="../images/login_register/feeder.png"/>
                </div>
                <div>
                  <label><input type="radio" name="who" class="checkbox" value="register_feeder" required="required" checked="checked">寵物飼主</label>
                </div>
                <div class="login_icon_container">
                  <img class="login_icon" src="../images/login_register/lover.png"/>
                </div> 
                <div>
                  <label><input type="radio" name="who" class="checkbox" value="register_lover" required="required">毛小孩愛好者</label>
                </div>
                <br><br> 
                <button type="button" name="who" class="btn btn-blue reg_button" data-bs-target="#loginModal" data-bs-toggle="modal">繼續</button>

                </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content shadow p-3 mb-5 bg-body rounded">
          <div class="modal-header">
            <img src="../images/dot1.png" id="progressicon1" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot2.png" id="progressicon2" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot2.png" id="progressicon3" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot2.png" id="progressicon4" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot1.png" id="progressicon5" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot1.png" id="progressicon6" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot1.png" id="progressicon7" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot2.png" id="progressicon8" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot2.png" id="progressicon9" style="display: none; width: 10px; height: 10px;">
            <img src="../images/dot1.png" id="progressicon10" style="display: none; width: 10px; height: 10px;">
      
            <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
              <img src="../images/x.png" alt="Close" style="width: 18px; height: 18px;">
            </button>
            <button type="button" class="signback" onclick="goBack()" aria-label="Go Back">
              <img src="../images/back.png" alt="Back" style="width: 18px; height: 18px;">
            </button>
          </div>

          <div class="modal-body">
    
            <!-- Step 1.5: Additional Form -->
            <div id="step15">
              <div id="step1.5" class="inactive-step " style="display: none;">
                <h3 class="form-heading">您的寵物基本資訊</h3>
                <p class="form-subheading">輔助配對功能智能畫推薦<br>註冊完畢可再修改</p>
                <div class="mb-3">
                  <input type="text" id="petName" class="form-control" name="petName" placeholder="寵物名稱">

                  <select id="petGender" class="form-control">
                    <option value=""disabled selected>寵物性別</option>
                    <option value="male">公</option>
                    <option value="female">母</option>
                  </select>

                  <select id="petSize" class="form-control">
                    <option value=""disabled selected>寵物體型</option>
                    <option value="small">小型</option>
                    <option value="medium">中型</option>
                    <option value="large">大型</option>
                  </select>

                  <select id="petAge" class="form-control">
                    <option value=""disabled selected>寵物年齡</option>
                    <option value="puppy">幼年</option>
                    <option value="adult">成年</option>
                    <option value="senior">老年</option>
                  </select>

                  <button class="btn btn-blue reg_button" onclick="showStep('2'); setstep('2');">繼續註冊</button>
                </div>
              </div>
            </div>

            <!-- Step 2: location -->
            <div id="step2" class="inactive-step pet-registration-step" style="display: none;">
              <div class="mb-3" style="position: relative;">
                  <h1 id="title">您的所在區域為?</h1>
                  <h2 id="subtitle">PetPals為您自動化推薦<br>附近區域與毛小孩接觸機會</h2>
                  <select id="region" class="form-control" onchange="populateAreas()">
                    <option value="" disabled selected style="color: #ADADAD !important;">縣市</option>
                  </select>
                  <select id="district" class="form-control">
                      <option value="" disabled selected style="color: #ADADAD;">鄉、鎮、市、區</option>
                  </select>
          
                  <p id="service-notice">開啟定位服務</p>
                  <p id="ss">自動更新位置即時推薦附近機會</p>
                  <div class="btn-group" id="button-group">
                    <div class="form-check">
                        <input type="radio" class="form-check-input" name="locationService" id="locationYes" checked>
                        <label class="form-check-label" for="locationYes">我願意開啟定位服務</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" class="form-check-input" name="locationService" id="locationNo">
                        <label class="form-check-label" for="locationNo">我不願意開啟定位服務</label>
                    </div>
                  </div>
                  <button class="btn btn-blue reg_button" id="submit-button" onclick="showStep('3')"onclick="setstep('3')">完成註冊</button>
              </div>
            </div>

            <!-- Step 3: end -->
            <div id="step3" class="inactive-step" style="display: none;">
              <p>註冊完成!</p>
              <p>請先填寫您預期配對的寵物夥伴條件，皆可複選</p>
              <div class="form-container">
                <form>
                    <div class="form-group">
                        <label class="sub_title">寵物體型</label>
                        <label class="sub_content"><input type="checkbox" name="size" value="small"> 小型犬</label>
                        <label class="sub_content"><input type="checkbox" name="size" value="medium"> 中型犬</label>
                        <label class="sub_content"><input type="checkbox" name="size" value="large"> 大型犬</label>
                    </div>
                    <div class="form-group">
                        <label class="sub_title">寵物年齡</label>
                        <label class="sub_content"><input type="checkbox" name="age" value="puppy"> 幼年</label>
                        <label class="sub_content"><input type="checkbox" name="age" value="adult"> 成年</label>
                        <label class="sub_content"><input type="checkbox" name="age" value="senior"> 老年</label>
                    </div>
                    <div class="form-group">
                        <label class="sub_title">散步狀態</label>
                        <label class="sub_content"><input type="checkbox" name="activity" value="calm"> 休閒平和</label>
                        <label class="sub_content"><input type="checkbox" name="activity" value="active"> 激烈互動</label>
                        <label class="sub_content"><input type="checkbox" name="activity" value="endurance"> 長續航力</label>
                    </div>
                    <div class="form-group">
                        <label class="sub_title">散步時長</label>
                        <label class="sub_content"><input type="checkbox" name="duration" value="0.5"> 30分鐘</label>
                        <label class="sub_content"><input type="checkbox" name="duration" value="1"> 1小時</label>
                        <label class="sub_content"><input type="checkbox" name="duration" value="1.5"> 1.5小時</label>
                        <label class="sub_content"><input type="checkbox" name="duration" value="2"> 2小時</label>
                    </div>
                    <div class="form-group">
                        <label class="sub_title">散步距離</label>
                        <label class="sub_content"><input type="checkbox" name="distance" value="0.5"> 0.5公里</label>
                        <label class="sub_content"><input type="checkbox" name="distance" value="1"> 1公里</label>
                        <label class="sub_content"><input type="checkbox" name="distance" value="1.5"> 1.5公里</label>
                        <label class="sub_content"><input type="checkbox" name="distance" value="2"> 2公里</label>
                        <label class="sub_content"><input type="checkbox" name="distance" value="3"> 2公里以上</label>
                    </div>
                </form>
              </div>
              <div id="bottom_box">
                <button id="submitBtn" type="submit" class="btn btn-blue reg_button" data-bs-toggle="modal"> 確認送出</button>
                <img src="../images/dog1.png">
              </div>
            </div>
          </div>
        </div> 
      </div>
    </div>
  </div>  
  <!-- register dialog end -->  
    
    <!-- chat begin -->
    <div class="chat">
      <div class="chat chatlist">
        <div class="chatbox">
            <img id="chatsign" src="../images/chat.png" alt="chat" />
            <h2>&nbsp;配對訊息</h2><br>
        </div><hr>
        <div class="chatbox" id="chatbox" data-match-id="2">
            <img class="doggy" src="../images/doggy2.png">
            <h6><span class="nameselected">BAGLE</span><br><span class="invitation" id="msgcontent">已傳送配對邀請！</span></h6>
        </div><hr>
        <div class="chatbox" data-match-id="2">
            <img class="doggy" src="../images/doggy3.png">
            <h6><span class="name">Kuma</span><br><span class="invitation">已傳送配對邀請！</span></h6>
        </div><hr>
        <div class="chatbox" data-match-id="3">
            <img class="doggy" src="../images/doggy1.png">
            <h6><span class="name">布丁</span><br><span class="invitation">已傳送配對邀請！</span></h6>
        </div><hr>
        <div class="chatbox" data-match-id="4">
            <img class="doggy" src="../images/doggy4.png">
            <h6><span class="name">小虎</span><br><span class="invitation">已傳送配對邀請！</span></h6>
        </div><hr>
        <div class="chatbox" data-match-id="5">
            <img class="doggy" src="../images/doggy5.png">
            <h6><span class="name">摩卡</span><br><span class="invitation">已傳送配對邀請！</span></h6>
        </div>
        <hr>
      
      </div>
        <div class="chat msg" id="msg">
          <div class="friend">
            <img class="img" src="../images/doggy2.png">
            <h6 class="name">BAGLE</h6>
          </div>
          <hr>
          <div class="content">
            <div class="success">
                已傳送配對邀請！
            </div>
            <br><br>
            <!-- chatbox is here -->
            <div id="chat-box"></div>
            <!-- chatbox is here -->
            <div class="map" id="mapreq">
              <p>請輸入您的需求！</p>
              <label for="place">出發地點</label>
              <input type="text" id="place" placeholder="出發地點"><br>
              <label for="time">散步時長</label>
              <select id="time">
                  <option value="30">半小時</option>
                  <option value="60">一小時</option>
                  <option value="120">兩小時</option>
              </select>
              <label for="stop">停靠點</label>
              <select id="stop">
                  <option value="1">一</option>
                  <option value="2">二</option>
                  <option value="3">三</option>
                  <option value="4">更多</option>
              </select><br>
              <label>特殊需求</label><br>
              <input type="checkbox" id="peeingArea" name="specialRequest" value="便溺區域">
              <label for="peeingArea">便溺區域</label>
              <input type="checkbox" id="grassArea" name="specialRequest" value="草地區域">
              <label for="grassArea">草地區域</label>
              <input type="checkbox" id="offLeashArea" name="specialRequest" value="解牽繩奔跑區">
              <label for="offLeashArea">解牽繩奔跑區</label><br>
              <input type="checkbox" id="play" name="specialRequest" value="寵物遊樂設施">
              <label for="play">寵物遊樂設施</label>
              <input type="checkbox" id="nopeople" name="specialRequest" value="避開人群">
              <label for="nopeople">避開人群</label>
              <input type="checkbox" id="nodog" name="specialRequest" value="避開其他狗">
              <label for="nodog">避開其他狗</label><br>
              <button onclick="showConfirm()">確認送出</button>
            </div>
            <div class="confirm" id="confirm">
                <p>請確認您的需求！</p>
                <p>出發地點｜<span id="confirmPlace"></span></p>
                <p>散步時長｜<span id="confirmTime"></span></p>
                <p>停靠點｜<span id="confirmStop"></span></p>
                <p>特殊需求｜<span id="confirmSpecial"></span></p>
                <button onclick="back()">返回修改</button>
                <button onclick="calculateAndDisplayRoute()">確認送出</button>
            </div>
            <div class="success" id="waiting">
              等待對方確認中...
            </div>
            <div class="success" id="calculating">
              系統計算中...
            </div><br>
            
            <div class="route" id="route">
                <p>以下是您的配對路線：</p>
                <div id="map">
                  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3x0GSfyR_X5QtfPOdvXWEKyyuwBsNweA&callback=initMap"></script>
                </div><br>
                <span id="placeinfo">起始點　　　　　停靠點A<span id="stopb">　　　　　停靠點B</span>　　　　　目的地<br></span>
                <div class="address_container">
                  <div class="address" id="placeinfo1"></div>　　
                  <div class="address" id="placeinfo2"></div>　　
                  <div class="address" id="placeinfo3"></div>　　
                  <div class="address" id="placeinfo4"></div>
                </div>
                <br>
                <div class="line-arrow-container">
                  &#11044;
                  <div class="line"></div>
                  <div class="arrow">&rarr;</div> <!-- Right arrow -->
                  <div class="line"></div>
                  <div class="arrow">&rarr;&#11096;</div> <!-- Right arrow -->
                  <div id="stop1" style="display: flex; align-items: center;justify-content: center;">
                    <div class="line"></div>
                    <div class="arrow">&rarr;</div> <!-- Right arrow -->
                    <div class="line"></div>
                    <div class="arrow">&rarr;&#11096;</div>
                  </div>
                  <div class="line"></div>
                  <div class="arrow">&rarr;</div>
                  <div class="line"></div>
                  <div class="arrow">&rarr;</div>&#11044;
              </div>
              <div id="timeestimated"></div>
            </div>
          </div>
          
          <img src="../images/資產 52.png" id="pair" onclick="pair()">
          <hr>
          <div class="input">
            <input type="text" id="mymsg" placeholder="輸入訊息...">
            <button onclick="send()">
              <img src="../images/send.png" alt="send" id="send">
            </button>
          </div>
        </div>
    </div>
    <!-- chat end -->

    <!-- start here -->

    <div class="mainpage">
          
        <nav class="navbar navbar-dark fixed-bottom" style="background-color: #003466;">
          <div class="container-fluid">
            <div class="navbar-items1">
              <div class="icon-container">
                <img class="icon3" src="../images/aboutus/fb.png">
                <img class="icon3" src="../images/aboutus/line.png">
                <img class="icon3" src="../images/aboutus/ig.png">
              </div>
            </div>
            <div></div>
            <div class="navbar-items2">
              <div class="policy">
                <a class="navbar-brand ms-3" href="./news.html">隱私政策</a>
                <div style="color: #FFFFFF;">|</div>
                <a class="navbar-brand ms-3" href="./news.html">使用條款</a>
                <div style="color: #FFFFFF;">|</div>
                <a class="navbar-brand ms-3" href="./market.html">網站地圖</a>
              </div>
            </div>
            <div class="petpals">
              <a class="navbar-brand">@2024Petpals 寵物夥伴 保留所有權利</a>
            </div>
          </div>
        </nav>
    </div>

    <!-- end here -->

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="./homepage.js"></script>
  </body>
</html>
